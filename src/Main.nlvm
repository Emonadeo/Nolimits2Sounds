import com.nolimitscoaster.*;

import api.*;
import sounds.*;

public class Main extends Script
{
    private Coaster coaster;

    private NL2Sound[] sounds = {
        new ArrowLift("arrow_lift"),
        new BMRoar("bm_roar"),
        new BMLift("bm_lift"),
        new BMBrake("bm_brake"),
        new RMCLift("rmc_lift"),
        new GCILift("gci_lift"),
        new JetFunkyLift("jet_funky_lift"),
        new JetRoar("jet_roar"),
        new MiscClunkyLift("misc_clunky_lift"),
        new MiscLsm("misc_lsm"),
        new MiscOldLift("misc_old_lift"),
        new MiscRoar("misc_roar")
    };

    public bool onInit() {
        this.coaster = sim.getCoasterForEntityId(this.getParentEntityId());

        for (int i = 0; i < this.sounds.length; i++) {
            if (coaster.getSection(this.sounds[i].getId()) != null || coaster.getSection(this.sounds[i].getId() + "_1") != null)
                this.sounds[i].init(this.sim, this.sim.getCoasterForEntityId(getParentEntityId()));
            else if (coaster.getTrackTrigger(this.sounds[i].getId()) != null || coaster.getTrackTrigger(this.sounds[i].getId() + "_1") != null)
                this.sounds[i].init(this.sim, this.sim.getCoasterForEntityId(getParentEntityId()));
        }
        return true;
    }
}
